!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="js/",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";var n=r(2);r(17),r(15);var o=r(3),i=r(19);document.getElementById("content").innerHTML=i;var s=o.time.format("%Y-%m-%d").parse;o.tsv("data/data.tsv",function(e,t){t.forEach(function(e){e.date=new Date(s(e.date).getTime()),e.open=+e.open,e.high=+e.high,e.low=+e.low,e.close=+e.close,e.volume=+e.volume});var o=r(4).init(t),i=r(5).init(t),a=r(6).init(t),c=r(7).init(t),p=r(8).init(t),l=r(9).init(t),u=r(10).init(t),h=r(11).init(t),d=r(12).init(t),f=r(13).init(t),m=r(14).init(t);n.render(n.createElement(o,null),document.getElementById("area")),n.render(n.createElement(i,null),document.getElementById("area2")),n.render(n.createElement(a,null),document.getElementById("area3")),n.render(n.createElement(c,null),document.getElementById("area4")),n.render(n.createElement(p,null),document.getElementById("area5")),n.render(n.createElement(l,null),document.getElementById("area6")),n.render(n.createElement(u,null),document.getElementById("line")),n.render(n.createElement(h,null),document.getElementById("candlestick")),n.render(n.createElement(d,null),document.getElementById("sync")),n.render(n.createElement(f,null),document.getElementById("areazoom")),n.render(n.createElement(m,null),document.getElementById("areazoompan"))})},function(e){e.exports=React},function(e){e.exports=d3},function(e,t,r){"use strict";var n=r(2),o=r(21),i=o.ChartCanvas,s=o.XAxis,a=o.YAxis,c=o.AreaSeries,p=(o.Translate,o.Chart),l=o.DataSeries;e.exports={init:function(e){var t=n.createClass({displayName:"AreaChart",render:function(){return n.createElement(i,{width:500,height:400,margin:{left:50,right:50,top:10,bottom:30},data:e},n.createElement(p,{id:0},n.createElement(s,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(a,{axisAt:"right",orient:"right",percentScale:!0,tickFormat:d3.format(".0%")}),n.createElement(a,{axisAt:"left",orient:"left"}),n.createElement(l,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(c,null))))}});return t}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.AreaSeries,l=(i.Translate,i.Chart),u=i.DataSeries,h=i.EventCapture,d=i.MouseCoordinates,f=i.CrossHair;e.exports={init:function(e){var t=n.createClass({displayName:"AreaChartWithCrossHairMousePointer",getInitialState:function(){return{width:500,height:400}},render:function(){var t=o.time.format("%Y-%m-%d").parse,r=({from:t("2012-06-01"),to:t("2012-12-31")},o.time.format("%Y-%m-%d"));return n.createElement(s,{data:e,width:this.state.width,height:this.state.height,margin:{left:5,right:90,top:10,bottom:30}},n.createElement(l,{id:3},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",orient:"right"}),n.createElement(u,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(p,null))),n.createElement(d,{forChart:3,xDisplayFormat:r,yDisplayFormat:function(e){return e.toFixed(2)}},n.createElement(f,null)),n.createElement(h,{mouseMove:!0,mainChart:3}))}});return t}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.AreaSeries,l=(i.Translate,i.Chart),u=i.DataSeries,h=i.EventCapture,d=i.MouseCoordinates,f=i.VerticalMousePointer,m=i.CurrentCoordinate;e.exports={init:function(e){var t=n.createClass({displayName:"AreaChartWithVerticalMousePointer",getInitialState:function(){return{width:500,height:400}},render:function(){var t=o.time.format("%Y-%m-%d").parse,r=({from:t("2012-06-01"),to:t("2012-12-31")},o.time.format("%Y-%m-%d"));return n.createElement(s,{data:e,width:this.state.width,height:this.state.height,margin:{left:50,right:100,top:10,bottom:30}},n.createElement(l,{id:0},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",orient:"right",percentScale:!0,tickFormat:o.format(".0%")}),n.createElement(c,{axisAt:"left",orient:"left"}),n.createElement(u,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(p,null))),n.createElement(m,{forChart:0}),n.createElement(d,{forChart:0,xDisplayFormat:r,yDisplayFormat:function(e){return e.toFixed(2)}},n.createElement(f,null)),n.createElement(h,{mouseMove:!0,mainChart:0}))}});return t}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.AreaSeries,l=(i.Translate,i.Chart),u=i.DataSeries,h=i.EventCapture,d=i.MouseCoordinates,f=i.CrossHair,m=i.TooltipContainer,y=i.OHLCTooltip;e.exports={init:function(e){var t=n.createClass({displayName:"AreaChartWithToolTip",getInitialState:function(){return{width:500,height:400}},render:function(){var t=o.time.format("%Y-%m-%d").parse,r=({from:t("2012-06-01"),to:t("2012-12-31")},o.time.format("%Y-%m-%d"));return n.createElement(s,{data:e,width:this.state.width,height:this.state.height,margin:{left:5,right:90,top:10,bottom:30}},n.createElement(l,{id:1},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",orient:"right"}),n.createElement(u,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(p,null))),n.createElement(d,{forChart:1,xDisplayFormat:r,yDisplayFormat:function(e){return e.toFixed(2)}},n.createElement(f,null)),n.createElement(h,{mouseMove:!0,mainChart:1}),n.createElement(m,null,n.createElement(y,{forChart:1})))}});return t}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.AreaSeries,l=(i.Translate,i.Chart),u=i.DataSeries,h=i.EventCapture,d=i.MouseCoordinates,f=i.CrossHair,m=i.TooltipContainer,y=i.OHLCTooltip,g=i.OverlaySeries,v=i.LineSeries,x=i.CurrentCoordinate,C=i.MovingAverageTooltip;e.exports={init:function(e){var t=n.createClass({displayName:"AreaChartWithMA",getInitialState:function(){return{width:500,height:400}},handleMATooltipClick:function(e){console.log("You clicked on ",e," handle your onclick event here...")},render:function(){var t=o.time.format("%Y-%m-%d").parse,r=({from:t("2012-06-01"),to:t("2012-12-31")},o.time.format("%Y-%m-%d"));return n.createElement(s,{data:e,width:this.state.width,height:this.state.height,margin:{left:5,right:90,top:10,bottom:30}},n.createElement(l,{id:1},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",orient:"right"}),n.createElement(u,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(p,null),n.createElement(g,{id:0,type:"sma",options:{period:50}},n.createElement(v,null)),n.createElement(g,{id:1,type:"sma",options:{period:150}},n.createElement(v,null)),n.createElement(g,{id:3,type:"sma",options:{period:250}},n.createElement(v,null)),n.createElement(g,{id:4,type:"sma",options:{period:350}},n.createElement(v,null)),n.createElement(g,{id:5,type:"sma",options:{period:450}},n.createElement(v,null)))),n.createElement(x,{forChart:1}),n.createElement(d,{forChart:1,xDisplayFormat:r,yDisplayFormat:function(e){return e.toFixed(2)}},n.createElement(f,null)),n.createElement(h,{mouseMove:!0,mainChart:1}),n.createElement(m,null,n.createElement(y,{forChart:1}),n.createElement(C,{forChart:1,onClick:this.handleMATooltipClick})))}});return t}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.AreaSeries,l=(i.Translate,i.Chart),u=i.DataSeries,h=i.EventCapture,d=i.MouseCoordinates,f=i.CrossHair,m=i.TooltipContainer,y=i.OHLCTooltip,g=i.OverlaySeries,v=i.LineSeries,x=i.MovingAverageTooltip,C=i.EdgeContainer,E=i.EdgeIndicator,_=i.CurrentCoordinate;e.exports={init:function(e){var t=n.createClass({displayName:"AreaChartWithEdgeCoordinates",getInitialState:function(){return{width:500,height:400}},getEventStore:function(){return this.refs.eventStore.getEventStore()},updateEventStore:function(e){return this.refs.eventStore.updateEventStore(e)},handleMATooltipClick:function(e){console.log("You clicked on ",e," handle your onclick event here...")},render:function(){var t=o.time.format("%Y-%m-%d").parse,r=({from:t("2012-06-01"),to:t("2012-12-31")},o.time.format("%Y-%m-%d"));return n.createElement(s,{width:this.state.width,height:this.state.height,margin:{left:5,right:90,top:10,bottom:30},data:e,ref:"eventStore"},n.createElement(l,{id:1},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",orient:"right"}),n.createElement(u,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(p,null),n.createElement(g,{id:0,type:"sma",options:{period:50}},n.createElement(v,null)),n.createElement(g,{id:1,type:"sma",options:{period:150}},n.createElement(v,null)),n.createElement(g,{id:3,type:"sma",options:{period:250}},n.createElement(v,null)),n.createElement(g,{id:4,type:"sma",options:{period:350}},n.createElement(v,null)),n.createElement(g,{id:5,type:"sma",options:{period:450}},n.createElement(v,null)))),n.createElement(_,{forChart:1}),n.createElement(_,{forChart:1,forOverlay:1}),n.createElement(C,null,n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1,forOverlay:1}),n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1,forOverlay:5})),n.createElement(d,{forChart:1,xDisplayFormat:r,yDisplayFormat:function(e){return e.toFixed(2)}},n.createElement(f,null)),n.createElement(h,{mouseMove:!0,mainChart:1}),n.createElement(m,null,n.createElement(y,{forChart:1}),n.createElement(x,{forChart:1,onClick:this.handleMATooltipClick})))}});return t}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.LineSeries,l=(i.Translate,i.Chart),u=i.DataSeries;e.exports={init:function(e){var t=n.createClass({displayName:"LineChart",render:function(){return n.createElement(s,{data:e,width:500,height:400,margin:{left:50,right:50,top:10,bottom:30}},n.createElement(l,{id:1},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",orient:"right",percentScale:!0,tickFormat:o.format(".0%")}),n.createElement(c,{axisAt:"left",orient:"left"}),n.createElement(u,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(p,null))))}});return t}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.CandlestickSeries,l=i.DataTransform,u=i.Chart,h=i.DataSeries;e.exports={init:function(e){var t=n.createClass({displayName:"CandleStickChart",render:function(){{var t=o.time.format("%Y-%m-%d").parse;({from:t("2012-12-01"),to:t("2012-12-31")})}return n.createElement(s,{width:500,height:400,margin:{left:50,right:50,top:10,bottom:30}},n.createElement(l,{transformType:"stockscale",data:e},n.createElement(u,{id:1},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",axisPadding:10,orient:"right",percentScale:!0,tickFormat:o.format(".0%"),ticks:3}),n.createElement(c,{axisAt:"left",orient:"left"}),n.createElement(h,{yAccessor:p.yAccessor},n.createElement(p,null)))))}});return t}}},function(e,t,r){"use strict";{var n=r(2),o=r(3);r(21)}e.exports={init:function(e){var t=r(9).init(e),i=n.createClass({displayName:"SyncMouseMove",getInitialState:function(){return{width:500,height:400}},handleMATooltipClick:function(e){console.log("You clicked on ",e," handle your onclick event here...")},componentDidMount:function(){var e=this.refs.left.getEventStore();this.refs.right.updateEventStore(e)},componentDidUpdate:function(){},render:function(){{var e=o.time.format("%Y-%m-%d").parse;({from:e("2012-06-01"),to:e("2012-12-31")}),o.time.format("%Y-%m-%d")}return n.createElement("div",null,n.createElement("div",{className:"col-md-6 react-stockchart"},n.createElement(t,{ref:"left"})),n.createElement("div",{className:"col-md-6 react-stockchart"},n.createElement(t,{ref:"right"})))}});return i}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.AreaSeries,l=(i.Translate,i.Chart),u=i.DataSeries,h=i.EventCapture,d=i.MouseCoordinates,f=i.CrossHair,m=i.TooltipContainer,y=i.OHLCTooltip,g=i.OverlaySeries,v=i.LineSeries,x=i.MovingAverageTooltip,C=i.EdgeContainer,E=i.EdgeIndicator,_=i.CurrentCoordinate;e.exports={init:function(e){var t=n.createClass({displayName:"AreaChartWithZoom",getInitialState:function(){return{width:500,height:400}},handleMATooltipClick:function(e){console.log("You clicked on ",e," handle your onclick event here...")},render:function(){var t=o.time.format("%Y-%m-%d").parse,r=({from:t("2012-06-01"),to:t("2012-12-31")},o.time.format("%Y-%m-%d"));return n.createElement(s,{width:this.state.width,height:this.state.height,margin:{left:65,right:90,top:30,bottom:30},data:e,ref:"eventStore"},n.createElement(l,{id:1},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",orient:"right"}),n.createElement(u,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(p,null),n.createElement(g,{id:0,type:"sma",options:{period:50}},n.createElement(v,null)),n.createElement(g,{id:1,type:"sma",options:{period:150}},n.createElement(v,null)),n.createElement(g,{id:2,type:"sma",options:{period:250}},n.createElement(v,null)),n.createElement(g,{id:3,type:"sma",options:{period:350}},n.createElement(v,null)),n.createElement(g,{id:4,type:"sma",options:{period:450}},n.createElement(v,null)))),n.createElement(_,{forChart:1}),n.createElement(_,{forChart:1,forOverlay:1}),n.createElement(C,null,n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1,forOverlay:0}),n.createElement(E,{className:"horizontal",itemType:"first",orient:"left",edgeAt:"left",forChart:1,forOverlay:1}),n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1}),n.createElement(E,{className:"horizontal",itemType:"first",orient:"left",edgeAt:"left",forChart:1}),n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1,forOverlay:2}),n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1,forOverlay:3})),n.createElement(d,{forChart:1,xDisplayFormat:r,yDisplayFormat:function(e){return e.toFixed(2)}},n.createElement(f,null)),n.createElement(h,{mouseMove:!0,zoom:!0,mainChart:1}),n.createElement(m,null,n.createElement(y,{forChart:1,origin:[-60,-20]}),n.createElement(x,{forChart:1,onClick:this.handleMATooltipClick,origin:[-60,-10]})))}});return t}}},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(21),s=i.ChartCanvas,a=i.XAxis,c=i.YAxis,p=i.AreaSeries,l=(i.Translate,i.Chart),u=i.DataSeries,h=i.EventCapture,d=i.MouseCoordinates,f=i.CrossHair,m=i.TooltipContainer,y=i.OHLCTooltip,g=i.OverlaySeries,v=i.LineSeries,x=i.MovingAverageTooltip,C=i.EdgeContainer,E=i.EdgeIndicator,_=i.CurrentCoordinate;e.exports={init:function(e){var t=n.createClass({displayName:"AreaChartWithZoomPan",getInitialState:function(){return{width:500,height:400}},handleMATooltipClick:function(e){console.log("You clicked on ",e," handle your onclick event here...")},render:function(){var t=o.time.format("%Y-%m-%d").parse,r=({from:t("2012-06-01"),to:t("2012-12-31")},o.time.format("%Y-%m-%d"));return n.createElement(s,{width:this.state.width,height:this.state.height,margin:{left:65,right:90,top:30,bottom:30},data:e,ref:"eventStore"},n.createElement(l,{id:1},n.createElement(a,{axisAt:"bottom",orient:"bottom",ticks:6}),n.createElement(c,{axisAt:"right",orient:"right"}),n.createElement(u,{yAccessor:function(e){return e.close},xAccessor:function(e){return e.date}},n.createElement(p,null),n.createElement(g,{id:0,type:"sma",options:{period:50}},n.createElement(v,null)),n.createElement(g,{id:1,type:"sma",options:{period:150}},n.createElement(v,null)),n.createElement(g,{id:2,type:"sma",options:{period:250}},n.createElement(v,null)),n.createElement(g,{id:3,type:"sma",options:{period:350}},n.createElement(v,null)),n.createElement(g,{id:4,type:"sma",options:{period:450}},n.createElement(v,null)))),n.createElement(_,{forChart:1}),n.createElement(_,{forChart:1,forOverlay:1}),n.createElement(C,null,n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1,forOverlay:0}),n.createElement(E,{className:"horizontal",itemType:"first",orient:"left",edgeAt:"left",forChart:1,forOverlay:1}),n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1}),n.createElement(E,{className:"horizontal",itemType:"first",orient:"left",edgeAt:"left",forChart:1}),n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1,forOverlay:2}),n.createElement(E,{className:"horizontal",itemType:"last",orient:"right",edgeAt:"right",forChart:1,forOverlay:3})),n.createElement(d,{forChart:1,xDisplayFormat:r,yDisplayFormat:function(e){return e.toFixed(2)}},n.createElement(f,null)),n.createElement(h,{mouseMove:!0,zoom:!0,pan:!0,mainChart:1}),n.createElement(m,null,n.createElement(y,{forChart:1,origin:[-60,-20]}),n.createElement(x,{forChart:1,onClick:this.handleMATooltipClick,origin:[-60,-10]})))}});return t}}},function(e,t,r){var n=r(16);"string"==typeof n&&(n=[[e.id,n,""]]);r(20)(n,{})},function(e,t,r){t=e.exports=r(22)(),t.push([e.id,"a.button{background:url("+r(43)+") 0 0 no-repeat;width:203px;height:80px;padding-left:60px;color:#fff!important}a.button small{display:inline;font-size:13px;margin-top:15px}.jumbotron{background:steelblue;padding:0;color:#fff}.jumbotron a{color:#ff0}.top-spacing{padding-top:10px}.navbar{background-color:steelblue}.navbar a{color:#fff}.navbar-fixed-top{border:0}.sidebar{display:none}@media (min-width:768px){.sidebar{position:fixed;top:51px;bottom:0;left:0;z-index:1000;display:block;padding:20px;overflow-x:hidden;overflow-y:auto;background-color:#f5f5f5;border-right:1px solid #eee}}.nav-sidebar{margin-right:-21px;margin-bottom:20px;margin-left:-20px}.nav-sidebar>li>a{padding-right:20px;padding-left:20px}.nav-sidebar>.active a,.nav-sidebar>.active a:hover,.nav-sidebar>.active a:focus{color:#fff;background-color:#428bca}.main{padding:20px}@media (min-width:768px){.main{padding-right:40px;padding-left:40px}}.main .page-header{margin-top:0}",""])},function(e,t,r){var n=r(18);"string"==typeof n&&(n=[[e.id,n,""]]);r(20)(n,{})},function(e,t,r){t=e.exports=r(22)(),t.push([e.id,'body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px}.react-stockchart .axis path,.react-stockchart .axis line{fill:none;stroke:#000}.react-stockchart .current-coordinate{fill:none;stroke:steelblue;stroke-width:3px}.react-stockchart .grid.axis path,.react-stockchart .grid.axis line{fill:none;stroke:#000;shape-rendering:crispEdges;opacity:.2}.react-stockchart .y.axis path{display:none}.react-stockchart .candle .up{fill:#6BA583;stroke:#6BA583;stroke-width:1px;shape-rendering:crispEdges}.react-stockchart .candle .down{fill:red;stroke:red;stroke-width:1px;shape-rendering:crispEdges}.react-stockchart .wick .up,.react-stockchart .wick .down{stroke:#000;stroke-width:1px;shape-rendering:crispEdges}.react-stockchart .line{fill:none;stroke-width:1px}.react-stockchart .line-stroke{shape-rendering:crispEdges;stroke:steelblue}.react-stockchart .overlay-stroke{stroke:steelblue}.react-stockchart .yin{fill:none;stroke:red;stroke-width:2px}.react-stockchart .yang{fill:none;stroke:#6BA583;stroke-width:2px}.react-stockchart .point_figure_up{fill:none;stroke:green;stroke-width:1px}.react-stockchart .point_figure_down{fill:none;stroke:red;stroke-width:1px}.react-stockchart .area{fill:lightsteelblue;opacity:.5}.react-stockchart .backgroundText{text-anchor:middle;fill:#8a8a8a;opacity:.15}.react-stockchart .cross-hair{stroke:#000;stroke-width:1px;shape-rendering:crispEdges;opacity:.2}.react-stockchart .horizontal2 .textbg{opacity:.95;fill:#f0e68c}.react-stockchart .horizontal2 text{fill:#757575}.react-stockchart .horizontal3 .textbg{opacity:.95;fill:#000}.react-stockchart .horizontal3 text{fill:#757575}.react-stockchart .edge-coordinate .textbg{opacity:.95}.react-stockchart .edge-coordinate text{fill:#fff}.react-stockchart .vertical .textbg,.react-stockchart .horizontal .textbg{opacity:.9;fill:#8a8a8a}.react-stockchart .vertical text,.react-stockchart .horizontal text{fill:#fff}.react-stockchart .grab{cursor:grab;cursor:-webkit-grab}.react-stockchart .grabbing{cursor:grabbing;cursor:-webkit-grabbing}.react-stockchart .crosshair{cursor:crosshair}.react-stockchart .toottip-hover{pointer-events:all;cursor:pointer}.react-stockchart .ma-container rect{fill:none;stroke:none}.react-stockchart .ma-container rect:hover{fill:#8a8a8a;opacity:.3}.react-stockchart .ma-container line{stroke-width:4px}.react-stockchart .legend{font-size:11px}.react-stockchart .legend .tooltip-label{fill:steelblue;font-weight:700}',""])},function(e){e.exports='<h1>React Stockcharts</h1><p>Highly customizable stock charts built with <a href="http://facebook.github.io/react/">React JS</a> and <a href="http://d3js.org/">d3</a></p>'},function(e){function t(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=c[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(o(n.parts[s],t))}else{for(var a=[],s=0;s<n.parts.length;s++)a.push(o(n.parts[s],t));c[n.id]={id:n.id,refs:1,parts:a}}}}function r(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],s=o[1],a=o[2],c=o[3],p={css:s,media:a,sourceMap:c};r[i]?r[i].parts.push(p):t.push(r[i]={id:i,parts:[p]})}return t}function n(){var e=document.createElement("style"),t=u();return e.type="text/css",t.appendChild(e),e}function o(e,t){var r,o,i;if(t.singleton){var c=d++;r=h||(h=n()),o=s.bind(null,r,c,!1),i=s.bind(null,r,c,!0)}else r=n(),o=a.bind(null,r),i=function(){r.parentNode.removeChild(r)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function i(e,t,r){var n=["/** >>"+t+" **/","/** "+t+"<< **/"],o=e.lastIndexOf(n[0]),i=r?n[0]+r+n[1]:"";if(e.lastIndexOf(n[0])>=0){var s=e.lastIndexOf(n[1])+n[1].length;return e.slice(0,o)+i+e.slice(s)}return e+i}function s(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=i(e.styleSheet.cssText,t,o);else{var s=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function a(e,t){var r=t.css,n=t.media,o=t.sourceMap;if(o&&"function"==typeof btoa)try{r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(o))+" */",r='@import url("data:text/css;base64,'+btoa(r)+'")'}catch(i){}if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var c={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},l=p(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),u=p(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,d=0;e.exports=function(e,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=l());var o=r(e);return t(o,n),function(e){for(var i=[],s=0;s<o.length;s++){var a=o[s],p=c[a.id];p.refs--,i.push(p)}if(e){var l=r(e);t(l,n)}for(var s=0;s<i.length;s++){var p=i[s];if(0===p.refs){for(var u=0;u<p.parts.length;u++)p.parts[u]();delete c[p.id]}}}}},function(e,t,r){"use strict";t.ChartCanvas=r(25),t.DataTransform=r(23),t.XAxis=r(24),t.YAxis=r(26),t.Chart=r(32),t.DataSeries=r(27),t.AreaSeries=r(28),t.LineSeries=r(29),t.CandlestickSeries=r(30),t.OverlaySeries=r(31),t.EventCapture=r(33),t.MouseCoordinates=r(34),t.CrossHair=r(35),t.VerticalMousePointer=r(36),t.CurrentCoordinate=r(37),t.TooltipContainer=r(38),t.OHLCTooltip=r(39),t.MovingAverageTooltip=r(40),t.EdgeContainer=r(41),t.EdgeIndicator=r(42)},function(e){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];e.push(r[2]?"@media "+r[2]+"{"+r[1]+"}":r[1])}return e.join("")},e}},function(e,t,r){"use strict";var n=r(2),o=r(45),i=r(46),s=r(51),a=(r(52),["transformType","options","children","namespace"]),c=n.createClass({displayName:"DataTransform",mixins:[s,i,o],propTypes:{_height:n.PropTypes.number,_width:n.PropTypes.number,data:n.PropTypes.array.isRequired,transformType:n.PropTypes.string.isRequired,options:n.PropTypes.object},getInitialState:function(){return{}},getDefaultProps:function(){return{namespace:"ReStock.DataTransform",transformType:"none"}},renderChildren:function(){var e=n.Children.map(this.props.children,function(e){if("string"==typeof e.type)return e;var t=e,r={};return Object.keys(this.props).filter(function(e){return-1===a.indexOf(e)}).forEach(function(e){return r[e]=this.props[e]}.bind(this)),Object.keys(this.state.passThroughProps).forEach(function(e){return r[e]=this.state.passThroughProps[e]}.bind(this)),n.addons.cloneWithProps(t,r)}.bind(this));return this._renderChildren(e)},render:function(){return n.createElement("g",null,this.renderChildren())}});e.exports=c},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(44),s=n.createClass({displayName:"XAxis",mixins:[i],propTypes:{axisAt:n.PropTypes.oneOfType([n.PropTypes.oneOf(["top","bottom","middle"]),n.PropTypes.number]).isRequired,orient:n.PropTypes.oneOf(["top","bottom"]).isRequired,innerTickSize:n.PropTypes.number,outerTickSize:n.PropTypes.number,tickFormat:n.PropTypes.func,tickPadding:n.PropTypes.number,tickSize:n.PropTypes.number,ticks:n.PropTypes.number,tickValues:n.PropTypes.array},getDefaultProps:function(){return{namespace:"ReStock.XAxis",showGrid:!1}},getInitialState:function(){return{}},componentWillMount:function(){this.state.xAxis=o.svg.axis()},componentDidMount:function(){this.updateAxis()},componentDidUpdate:function(){this.updateAxis()},updateAxis:function(){var e=o.svg.axis().scale(this.props._xScale).orient(this.props.orient);this.props.orient&&e.orient(this.props.orient),this.props.innerTickSize&&e.innerTickSize(this.props.innerTickSize),this.props.outerTickSize&&e.outerTickSize(this.props.outerTickSize),this.props.tickFormat&&(this.props._xScale.isPolyLinear&&this.props._xScale.isPolyLinear()?console.warn("Cannot set tickFormat on a poly linear scale, ignoring tickFormat on XAxis"):e.tickFormat(this.props.tickFormat)),this.props.tickPadding&&e.tickPadding(this.props.tickPadding),this.props.tickSize&&e.tickSize(this.props.tickSize),this.props.ticks&&e.ticks(this.props.ticks),this.props.tickValues&&e.tickValues(this.props.tickValues),o.select(this.getDOMNode()).call(e)},render:function(){var e=this.props.axisAt,t=this.props._yScale.range();return"top"===this.props.axisAt&&(e=Math.min(t[0],t[1])),"bottom"===this.props.axisAt&&(e=Math.max(t[0],t[1])),"middle"===this.props.axisAt&&(e=(t[0]+t[1])/2),n.createElement("g",{className:"x axis",transform:"translate(0, "+e+")"})}});e.exports=s},function(e,t,r){"use strict";var n=r(2),o=(r(32),r(45)),i=r(46),s=n.createClass({displayName:"ChartCanvas",mixins:[i,o],propTypes:{width:n.PropTypes.number.isRequired,height:n.PropTypes.number.isRequired,margin:n.PropTypes.object},getAvailableHeight:function(){return this.props.height-this.props.margin.top-this.props.margin.bottom},getAvailableWidth:function(){return this.props.width-this.props.margin.left-this.props.margin.right},getInitialState:function(){return{}},getDefaultProps:function(){return{margin:{top:20,right:30,bottom:30,left:80}}},renderChildren:function(){var e=n.Children.map(this.props.children,function(e){if("string"==typeof e.type)return e;var t=e;return n.addons.cloneWithProps(t,{_width:this.getAvailableWidth(),_height:this.getAvailableHeight()})}.bind(this));return this._renderChildren(e)},render:function(){var e="translate("+this.props.margin.left+","+this.props.margin.top+")",t='<clipPath id="chart-area-clip"><rect x="0" y="0" width="'+this.getAvailableWidth()+'" height="'+this.getAvailableHeight()+'" /></clipPath>',r=this.renderChildren();return n.createElement("svg",{width:this.props.width,height:this.props.height},n.createElement("defs",{dangerouslySetInnerHTML:{__html:t}}),n.createElement("g",{transform:e},r))}});e.exports=s},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(44),s=n.createClass({displayName:"YAxis",mixins:[i],propTypes:{axisAt:n.PropTypes.oneOfType([n.PropTypes.oneOf(["left","right","middle"]),n.PropTypes.number]).isRequired,orient:n.PropTypes.oneOf(["left","right"]).isRequired,innerTickSize:n.PropTypes.number,outerTickSize:n.PropTypes.number,tickFormat:n.PropTypes.func,tickPadding:n.PropTypes.number,tickSize:n.PropTypes.number,ticks:n.PropTypes.number,tickValues:n.PropTypes.array,percentScale:n.PropTypes.bool,axisPadding:n.PropTypes.number},getDefaultProps:function(){return{namespace:"ReStock.YAxis",showGrid:!1,axisPadding:0}},getInitialState:function(){return{}},componentDidMount:function(){this.updateAxis()},componentDidUpdate:function(){this.updateAxis()},updateAxis:function(){var e=this.props._yScale;this.props.percentScale&&(e=e.copy().domain([0,1]));var t=o.svg.axis().scale(e).orient(this.props.orient);this.props.orient&&t.orient(this.props.orient),this.props.innerTickSize&&t.innerTickSize(this.props.innerTickSize),this.props.outerTickSize&&t.outerTickSize(this.props.outerTickSize),this.props.tickFormat&&t.tickFormat(this.props.tickFormat),this.props.tickPadding&&t.tickPadding(this.props.tickPadding),this.props.tickSize&&t.tickSize(this.props.tickSize),this.props.ticks&&t.ticks(this.props.ticks),this.props.tickValues&&t.tickValues(this.props.tickValues),o.select(this.getDOMNode()).call(t)},render:function(){var e=this.props.axisAt,t=this.props._xScale.range();return"left"===this.props.axisAt&&(e=Math.min(t[0],t[1])+this.props.axisPadding),"right"===this.props.axisAt&&(e=Math.max(t[0],t[1])+this.props.axisPadding),"middle"===this.props.axisAt&&(e=(t[0]+t[1])/2+this.props.axisPadding),n.createElement("g",{className:"y axis",transform:"translate("+e+", 0)"})}});e.exports=s},function(e,t,r){"use strict";function n(e,t){return e.map(function(e){return[e.id,e]}).filter(function(e){return e[0]===t}).map(function(e){return e[1]})[0]}var o=r(2),i=r(44),s=r(47),a=(r(3),r(48),s.overlayColors,o.createClass({displayName:"DataSeries",mixins:[i],propTypes:{xAccessor:o.PropTypes.func,_xAccessor:o.PropTypes.func,yAccessor:o.PropTypes.func.isRequired,_xScale:o.PropTypes.func,_yScale:o.PropTypes.func,_overlays:o.PropTypes.array,_updateMode:o.PropTypes.object},getDefaultProps:function(){return{namespace:"ReStock.DataSeries"}},renderChildren:function(){var e=o.Children.map(this.props.children,function(e){var t=e;if("string"==typeof e.type)return t;if(/Series$/.test(t.props.namespace)&&(t=o.addons.cloneWithProps(t,{_xScale:this.props._xScale,_yScale:this.props._yScale,_xAccessor:this.props.xAccessor||this.props._xAccessor,_yAccessor:this.props.yAccessor,data:this.props.data}),/OverlaySeries$/.test(t.props.namespace))){var r=(t.props.id,n(this.props._overlays,t.props.id));t=o.addons.cloneWithProps(t,{_overlay:r})}return t}.bind(this),this);return e},render:function(){return o.createElement("g",null,this.renderChildren())}}));e.exports=a},function(e,t,r){"use strict";var n=r(2),o=r(3),i=r(44),s=n.createClass({displayName:"AreaSeries",mixins:[i],propTypes:{_xScale:n.PropTypes.func.isRequired,_yScale:n.PropTypes.func.isRequired,_xAccessor:n.PropTypes.func.isRequired,_yAccessor:n.PropTypes.func.isRequired,data:n.PropTypes.array.isRequired},getDefaultProps:function(){return{namespace:"ReStock.AreaSeries"}},getPath:function(){var e=this.props,t=o.svg.line().defined(function(t){return void 0!==e._yAccessor(t)}).x(function(t){return e._xScale(e._xAccessor(t))}).y(function(t){return e._yScale(e._yAccessor(t))});return t(e.data)},getArea:function(){var e=this.props,t=e._yScale.range()[0],r=o.svg.area().defined(function(t){return void 0!==e._yAccessor(t)
}).x(function(t){return e._xScale(e._xAccessor(t))}).y0(t-1).y1(function(t){return e._yScale(e._yAccessor(t))});return r(e.data)},render:function(){return n.createElement("g",null,n.createElement("path",{d:this.getPath(),className:"line line-stroke"}),n.createElement("path",{d:this.getArea(),className:"area"}))}});e.exports=s},function(e,t,r){"use strict";var n=r(2),o=r(3),i=(r(44),n.createClass({displayName:"LineSeries",propTypes:{_xScale:n.PropTypes.func.isRequired,_yScale:n.PropTypes.func.isRequired,_xAccessor:n.PropTypes.func.isRequired,_yAccessor:n.PropTypes.func.isRequired,data:n.PropTypes.array.isRequired,className:n.PropTypes.string,stroke:n.PropTypes.string},getDefaultProps:function(){return{namespace:"ReStock.LineSeries",className:"line "}},getPath:function(){var e=this.props,t=o.svg.line().defined(function(t){return void 0!==e._yAccessor(t)}).x(function(t){return e._xScale(e._xAccessor(t))}).y(function(t){return e._yScale(e._yAccessor(t))});return t(e.data)},render:function(){var e=this.props.className.concat(void 0!==this.props.stroke?"":" line-stroke");return n.createElement("g",null,n.createElement("path",{d:this.getPath(),stroke:this.props.stroke,fill:"none",className:e}))}}));e.exports=i},function(e,t,r){"use strict";var n=r(2),o=(r(3),r(44)),i=n.createClass({displayName:"CandlestickSeries",mixins:[o],propTypes:{_xScale:n.PropTypes.func.isRequired,_yScale:n.PropTypes.func.isRequired,_xAccessor:n.PropTypes.func.isRequired,_yAccessor:n.PropTypes.func.isRequired},statics:{yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}}},getDefaultProps:function(){return{namespace:"ReStock.CandlestickSeries"}},getWicks:function(){var e=this.props.data.filter(function(e){return void 0!==e.close}).map(function(e,t){var r=this.props._yAccessor(e),o=this.props._xScale(this.props._xAccessor(e)),i=this.props._yScale(r.high),s=o,a=this.props._yScale(r.low),c=r.open>=r.close?"up":"down";return n.createElement("line",{key:t,className:c,x1:o,y1:i,x2:s,y2:a})},this);return e},getCandles:function(){var e=Math.abs(this.props._xScale.range()[0]-this.props._xScale.range()[1]),t=e/this.props.data.length*.5,r=this.props.data.filter(function(e){return void 0!==e.close}).map(function(e,r){var o=this.props._yAccessor(e),i=this.props._xScale(this.props._xAccessor(e))-.5*t,s=this.props._yScale(Math.max(o.open,o.close)),a=Math.abs(this.props._yScale(o.open)-this.props._yScale(o.close)),c=o.open<=o.close?"up":"down";return n.createElement("rect",{key:r,className:c,x:i,y:s,width:t,height:a})},this);return r},render:function(){return n.createElement("g",null,n.createElement("g",{className:"wick",key:"wicks"},this.getWicks()),n.createElement("g",{className:"candle",key:"candles"},this.getCandles()))}});e.exports=i},function(e,t,r){"use strict";var n=r(2),o=r(44),i=(r(47),r(48),n.createClass({displayName:"OverlaySeries",mixins:[o],propTypes:{_xScale:n.PropTypes.func.isRequired,_yScale:n.PropTypes.func.isRequired,_xAccessor:n.PropTypes.func.isRequired,_overlay:n.PropTypes.object.isRequired,data:n.PropTypes.array.isRequired,type:n.PropTypes.oneOf(["sma","ema"]),options:n.PropTypes.object.isRequired,id:n.PropTypes.number.isRequired,stroke:n.PropTypes.string},getDefaultProps:function(){return{namespace:"ReStock.OverlaySeries"}},componentWillUnMount:function(){console.log("componentWillUnMount"),console.log("componentWillUnMount"),console.log("componentWillUnMount"),console.log("componentWillUnMount"),console.log("componentWillUnMount"),this.props._overlay.set(null)},componentWillReceiveProps:function(e){this.props.options!==e.options&&(console.log("updating props....."),this.props._overlay.set("options",e.options))},renderChildren:function(){return n.Children.map(this.props.children,function(e){var t=e;return"string"==typeof e.type?t:(/Series$/.test(t.props.namespace)&&(t=n.addons.cloneWithProps(t,{_xScale:this.props._xScale,_yScale:this.props._yScale,_xAccessor:this.props.xAccessor||this.props._xAccessor,_yAccessor:this.props._overlay.yAccessor,data:this.props.data,stroke:this.props._overlay.stroke,className:"overlay"})),t)}.bind(this),this)},render:function(){return void 0===this.props._overlay.yAccessor?null:n.createElement("g",null,this.renderChildren())}}));e.exports=i},function(e,t,r){"use strict";var n=r(2),o=(r(3),r(49),r(48),r(47)),i=(o.overlayColors,o.pluck,o.keysAsArray,n.createClass({displayName:"Chart",statics:{getWidth:function(e){return e.width||e._width},getHeight:function(e){return e.height||e._height}},propTypes:{data:n.PropTypes.array.isRequired,height:n.PropTypes.number,width:n.PropTypes.number,id:n.PropTypes.number.isRequired,_height:n.PropTypes.number,_width:n.PropTypes.number,xScale:n.PropTypes.func,yScale:n.PropTypes.func,xDomainUpdate:n.PropTypes.bool,yDomainUpdate:n.PropTypes.bool,_chartData:n.PropTypes.object.isRequired,_updateMode:n.PropTypes.object.isRequired},mixins:[n.addons.PureRenderMixin],getDefaultProps:function(){return{namespace:"ReStock.Chart",transformDataAs:"none",yDomainUpdate:!0}},renderChildren:function(){return n.Children.map(this.props.children,function(e){if("string"==typeof e.type)return e;if(["ReStock.DataSeries","ReStock.ChartOverlay","ReStock.XAxis","ReStock.YAxis"].indexOf(e.props.namespace)<0)return e;var t=e;return t=n.addons.cloneWithProps(t,{_xScale:this.props._chartData.scales.xScale,_yScale:this.props._chartData.scales.yScale,data:this.props.data,_xAccessor:this.props._indexAccessor}),t=this.updatePropsForDataSeries(t),void 0!==t.props.xAccessor&&this.props._stockScale&&(console.warn("xAccessor defined in DataSeries will override the indexAccessor of the polylinear scale. This might not be the right configuration"),console.warn("Either remove the xAccessor configuration on the DataSeries or change the polyLinear=false in Translate")),t}.bind(this),this)},updatePropsForDataSeries:function(e){return"ReStock.DataSeries"===e.props.namespace?n.addons.cloneWithProps(e,{_overlays:this.props._chartData.overlays,_updateMode:this.props._updateMode}):e},render:function(){return n.createElement("g",null,this.renderChildren())}}));e.exports=i},function(e,t,r){"use strict";var n=r(2),o=r(47),i=n.createClass({displayName:"EventCapture",propTypes:{mainChart:n.PropTypes.number.isRequired,mouseMove:n.PropTypes.bool.isRequired,zoom:n.PropTypes.bool.isRequired,pan:n.PropTypes.bool.isRequired,_height:n.PropTypes.number.isRequired,_width:n.PropTypes.number.isRequired,_eventStore:n.PropTypes.object.isRequired,_zoomEventStore:n.PropTypes.object},getInitialState:function(){return{}},getDefaultProps:function(){return{namespace:"ReStock.EventCapture",mouseMove:!1,zoom:!1,pan:!1}},handleEnter:function(){this.props._eventStore&&this.props._eventStore.get().mouseOver.set({value:!0})},handleLeave:function(){if(this.props._eventStore){{this.props._eventStore.get()}this.props._eventStore.get().mouseOver.set({value:!1}),this.props._eventStore.get().set({pan:!1}),this.setState({dragging:!1})}},handleWheel:function(e){if(this.props.zoom&&this.props._eventStore&&this.props._eventStore.get().inFocus.value&&this.props._zoomEventStore){e.stopPropagation(),e.preventDefault();var t=1,r=e.deltaY>0?t:-t;this.props._zoomEventStore.get().set({zoom:r})}},handleMouseMove:function(e){if(this.props._eventStore&&this.props.mouseMove){var t=this.props._eventStore.get(),r=o.mousePosition(e),n=t.mouseXY;(n[0]!==r[0]||n[1]!==r[1])&&(this.state.dragging&&(t=t.set({dx:2.5*(r[0]-n[0])})),t=t.set({mouseXY:r}),t=t.set({pan:this.state.dragging}))}},handleMouseDown:function(e){this.props._eventStore&&(this.props._eventStore.get().inFocus.set({value:!0}),this.props.pan&&this.props._zoomEventStore&&this.setState({dragging:!0})),e.preventDefault()},handleMouseUp:function(e){this.props.pan&&this.props._zoomEventStore&&this.setState({dragging:!1}),e.preventDefault()},render:function(){return n.createElement("rect",{width:this.props._width,height:this.props._height,style:{opacity:0},onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onWheel:this.handleWheel})}});e.exports=i},function(e,t,r){"use strict";var n=r(2),o=(r(50),r(47)),i=n.createClass({displayName:"MouseCoordinates",propTypes:{_height:n.PropTypes.number.isRequired,_width:n.PropTypes.number.isRequired,_show:n.PropTypes.bool.isRequired,_mouseXY:n.PropTypes.array.isRequired,_chartData:n.PropTypes.object.isRequired,_currentItem:n.PropTypes.object.isRequired,forChart:n.PropTypes.number.isRequired,xDisplayFormat:n.PropTypes.func.isRequired,yDisplayFormat:n.PropTypes.func.isRequired},shouldComponentUpdate:function(e){return e._currentItem!=this.props._currentItem||e._mouseXY!==this.props._mouseXY||e._show!==this.props._show},getDefaultProps:function(){return{namespace:"ReStock.MouseCoordinates",_show:!1,snapX:!0,xDisplayFormat:o.displayDateFormat,yDisplayFormat:o.displayNumberFormat}},renderChildren:function(){var e=this.props._chartData,t=this.props._currentItem.data,r=e.accessors.xAccessor(t),o=e.scales.yScale.invert(this.props._mouseXY[1]);if(void 0===r||void 0===o)return null;var i=this.props.snapX?Math.round(e.scales.xScale(r)):this.props._mouseXY[0],s=this.props._mouseXY[1];return n.Children.map(this.props.children,function(e){if("string"==typeof e.type)return e;var t=e;return n.addons.cloneWithProps(t,{_width:this.props._width,_height:this.props._height,_mouseXY:[i,s],_xDisplayValue:this.props.xDisplayFormat(r),_yDisplayValue:this.props.yDisplayFormat(o)})}.bind(this),this)},render:function(){var e=null;return this.props._show&&(e=this.renderChildren()),n.createElement("g",{className:this.props._show?"show":"hide"},e)}});e.exports=i},function(e,t,r){"use strict";var n=r(2),o=r(50),i=(r(47),n.createClass({displayName:"CrossHair",propTypes:{_height:n.PropTypes.number.isRequired,_width:n.PropTypes.number.isRequired,_mouseXY:n.PropTypes.array.isRequired,_xDisplayValue:n.PropTypes.string.isRequired,_yDisplayValue:n.PropTypes.string.isRequired,yAxisPad:n.PropTypes.number.isRequired},shouldComponentUpdate:function(e){return e._mouseXY!==this.props._mouseXY},getDefaultProps:function(){return{namespace:"ReStock.CrossHair",yAxisPad:5}},render:function(){return n.createElement("g",{className:"crosshair "},n.createElement(o,{type:"horizontal",className:"horizontal",show:!0,x1:0,y1:this.props._mouseXY[1],x2:this.props._width+this.props.yAxisPad,y2:this.props._mouseXY[1],coordinate:this.props._yDisplayValue,edgeAt:this.props._width+this.props.yAxisPad,orient:"right"}),n.createElement(o,{type:"vertical",className:"horizontal",show:!0,x1:this.props._mouseXY[0],y1:0,x2:this.props._mouseXY[0],y2:this.props._height,coordinate:this.props._xDisplayValue,edgeAt:this.props._height,orient:"bottom"}))}}));e.exports=i},function(e,t,r){"use strict";var n=r(2),o=r(50),i=(r(47),n.createClass({displayName:"VerticalMousePointer",propTypes:{_height:n.PropTypes.number.isRequired,_width:n.PropTypes.number.isRequired,_mouseXY:n.PropTypes.array.isRequired,_xDisplayValue:n.PropTypes.string.isRequired,_yDisplayValue:n.PropTypes.string.isRequired,yAxisPad:n.PropTypes.number.isRequired},shouldComponentUpdate:function(e){return e._mouseXY!==this.props._mouseXY},getDefaultProps:function(){return{namespace:"ReStock.VerticalMousePointer",yAxisPad:10}},render:function(){return n.createElement("g",{className:"crosshair "},n.createElement(o,{type:"vertical",className:"horizontal",show:!0,x1:this.props._mouseXY[0],y1:0,x2:this.props._mouseXY[0],y2:this.props._height,coordinate:this.props._xDisplayValue,edgeAt:this.props._height,orient:"bottom"}))}}));e.exports=i},function(e,t,r){"use strict";var n=r(2),o=r(44),i=(r(47),n.createClass({displayName:"CurrentCoordinate",mixins:[o],propTypes:{forChart:n.PropTypes.number.isRequired,forOverlay:n.PropTypes.number,yAccessor:n.PropTypes.func,r:n.PropTypes.number.isRequired,className:n.PropTypes.string,_show:n.PropTypes.bool.isRequired,_chartData:n.PropTypes.object.isRequired,_currentItem:n.PropTypes.object.isRequired},getDefaultProps:function(){return{namespace:"ReStock.CurrentCoordinate",r:3}},render:function(){var e=this.props._chartData,t=this.props._currentItem.data,r="black";if(!this.props._show||void 0===t)return null;var o=this.props.yAccessor||e.accessors.yAccessor;if(void 0!==this.props.forOverlay){var i=e.overlays.filter(function(e){return e.id===this.props.forOverlay}.bind(this));if(1!=i.length)throw console.warn("Unique overlay with id={%s} not found",this.props.forOverlay),new Error("Unique overlay not found");r=i[0].stroke,o=i[0].yAccessor}var s=e.accessors.xAccessor(t),a=o(t);if(void 0===a)return null;var c=Math.round(e.scales.xScale(s)),p=Math.round(e.scales.yScale(a));return n.createElement("circle",{className:this.props.className,cx:c,cy:p,r:this.props.r,fill:r})}}));e.exports=i},function(e,t,r){"use strict";var n=r(2),o=n.createClass({displayName:"TooltipContainer",propTypes:{_currentItems:n.PropTypes.array.isRequired,_charts:n.PropTypes.array.isRequired},shouldComponentUpdate:function(e){return e._charts!==this.props._charts||e._currentItems!==this.props._currentItems},getDefaultProps:function(){return{namespace:"ReStock.TooltipContainer"}},renderChildren:function(){return n.Children.map(this.props.children,function(e){if("string"==typeof e.type)return e;var t=e,r=this.props._charts.filter(function(e){return e.id===t.props.forChart})[0],o=this.props._currentItems.filter(function(e){return e.id===t.props.forChart})[0];return t=n.addons.cloneWithProps(t,{_currentItem:o.data}),/MovingAverageTooltip$/.test(t.props.namespace)&&(t=n.addons.cloneWithProps(t,{_overlays:r.overlays})),t}.bind(this))},render:function(){return n.createElement("g",{className:"toottip-hover"},this.renderChildren())}});e.exports=o},function(e,t,r){"use strict";var n=r(2),o=r(47),i=1e9,s=1e6,a=1e3,c=n.createClass({displayName:"OHLCTooltip",propTypes:{_currentItem:n.PropTypes.object.isRequired,accessor:n.PropTypes.func.isRequired,xDisplayFormat:n.PropTypes.func.isRequired,origin:n.PropTypes.array.isRequired},shouldComponentUpdate:function(e){return e._currentItem!==this.props._currentItem},getDefaultProps:function(){return{namespace:"ReStock.OHLCTooltip",accessor:function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}},xDisplayFormat:o.displayDateFormat,origin:[0,0]}},render:function(){var e,t,r,c,p,l,u,h;e=t=r=c=p=l=u=h="n/a";var d=this.props.accessor(this.props._currentItem);return void 0!==d&&void 0!==d.close&&(h=d.volume/i>1?(d.volume/i).toFixed(2)+"b":d.volume/s>1?(d.volume/s).toFixed(2)+"m":d.volume/a>1?(d.volume/a).toFixed(2)+"k":d.volume,e=this.props.xDisplayFormat(d.date),c=o.displayNumberFormat(d.open),p=o.displayNumberFormat(d.high),l=o.displayNumberFormat(d.low),u=o.displayNumberFormat(d.close)),n.createElement("g",{transform:"translate("+this.props.origin[0]+", "+this.props.origin[1]+")"},n.createElement("text",{x:0,y:0,className:"legend"},n.createElement("tspan",{key:"label",x:0,dy:"5",className:"tooltip-label"},"Date: "),n.createElement("tspan",{key:"value"},e),n.createElement("tspan",{key:"label_O",className:"tooltip-label"}," O: "),n.createElement("tspan",{key:"value_O"},c),n.createElement("tspan",{key:"label_H",className:"tooltip-label"}," H: "),n.createElement("tspan",{key:"value_H"},p),n.createElement("tspan",{key:"label_L",className:"tooltip-label"}," L: "),n.createElement("tspan",{key:"value_L"},l),n.createElement("tspan",{key:"label_C",className:"tooltip-label"}," C: "),n.createElement("tspan",{key:"value_C"},u),n.createElement("tspan",{key:"label_Vol",className:"tooltip-label"}," Vol: "),n.createElement("tspan",{key:"value_Vol"},h)))}});e.exports=c},function(e,t,r){"use strict";var n=r(2),o=r(47),i=n.createClass({displayName:"SingleMAToolTip",propTypes:{origin:n.PropTypes.array.isRequired,color:n.PropTypes.string.isRequired,displayName:n.PropTypes.string.isRequired,value:n.PropTypes.string.isRequired,onClick:n.PropTypes.func},getDefaultProps:function(){},handleClick:function(e){this.props.onClick&&this.props.onClick(e)},render:function(){var e="translate("+this.props.origin[0]+", "+this.props.origin[1]+")";return n.createElement("g",{transform:e},n.createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:this.props.color}),n.createElement("text",{x:5,y:11,className:"legend"},n.createElement("tspan",{className:"tooltip-label"},this.props.displayName),n.createElement("tspan",{x:"5",dy:"15"},this.props.value)),n.createElement("rect",{x:0,y:0,width:55,height:30,onClick:this.handleClick.bind(this,this.props.overlay)}))}}),s=n.createClass({displayName:"MovingAverageTooltip",propTypes:{_currentItem:n.PropTypes.object.isRequired,_overlays:n.PropTypes.array.isRequired,displayFormat:n.PropTypes.func.isRequired,origin:n.PropTypes.array.isRequired,onClick:n.PropTypes.func},getDefaultProps:function(){return{namespace:"ReStock.MovingAverageTooltip",displayFormat:o.displayNumberFormat,origin:[0,10],width:65}},render:function(){return n.createElement("g",{transform:"translate("+this.props.origin[0]+", "+this.props.origin[1]+")",className:"ma-container"},this.props._overlays.map(function(e,t){var r=e.yAccessor(this.props._currentItem),o=r?this.props.displayFormat(r):"n/a";return n.createElement(i,{key:t,origin:[this.props.width*t,0],color:e.stroke,displayName:e.tooltipLabel,value:o,overlay:e,onClick:this.props.onClick})}.bind(this)))}});e.exports=s},function(e,t,r){"use strict";var n=r(2),o=n.createClass({displayName:"EdgeContainer",propTypes:{_currentItems:n.PropTypes.array.isRequired,_charts:n.PropTypes.array.isRequired,_height:n.PropTypes.number.isRequired,_width:n.PropTypes.number.isRequired},getDefaultProps:function(){return{namespace:"ReStock.EdgeContainer"}},renderChildren:function(){return n.Children.map(this.props.children,function(e){if("string"==typeof e.type)return e;var t=e;if(/EdgeIndicator$/.test(t.props.namespace)){var r=this.props._charts.filter(function(e){return e.id===t.props.forChart})[0],o=this.props._currentItems.filter(function(e){return e.id===t.props.forChart})[0];t=n.addons.cloneWithProps(t,{_width:this.props._width,_chart:r,_currentItem:o})}return t}.bind(this))},render:function(){return n.createElement("g",null,this.renderChildren())}});e.exports=o},function(e,t,r){"use strict";var n=r(2),o=r(47),i=r(50),s=n.createClass({displayName:"EdgeIndicator",propTypes:{type:n.PropTypes.oneOf(["horizontal"]).isRequired,className:n.PropTypes.string,itemType:n.PropTypes.oneOf(["first","last","current"]).isRequired,orient:n.PropTypes.oneOf(["left","right"]),edgeAt:n.PropTypes.oneOf(["left","right"]),forChart:n.PropTypes.number.isRequired,forOverlay:n.PropTypes.number,displayFormat:n.PropTypes.func.isRequired,_width:n.PropTypes.number,_currentItem:n.PropTypes.object.isRequired,_chart:n.PropTypes.object.isRequired},getDefaultProps:function(){return{type:"horizontal",orient:"left",edgeAt:"left",displayFormat:o.displayNumberFormat,yAxisPad:5,namespace:"ReStock.EdgeIndicator"}},renderEdge:function(){var e,t,r=null;if(void 0!==this.props.forOverlay&&this.props._chart.overlays.length>0&&this.props._chart.overlayValues.length>0){var o=this.props._chart.overlays.filter(function(e){return e.id===this.props.forOverlay}.bind(this)),s=this.props._chart.overlayValues.filter(function(e){return e.id===this.props.forOverlay}.bind(this));if(1!==o.length)throw console.warn("%s overlays found with id %s, correct the OverlaySeries so there is exactly one for each id",o.length,newChild.props.forOverlay),new Error("Unable to identify unique Overlay for the id");if(1!==s.length&&1===o.length&&console.warn("Something is wrong!!!, There should be 1 overlayValue, report the issue on github"),e="first"===this.props.itemType?s[0].first:"last"===this.props.itemType?s[0].last:this.props._currentItem,t=o[0].yAccessor,void 0!==e){var a=t(e),c=this.props._chart.accessors.xAccessor(e),p=Math.round(this.props._chart.scales.xScale(c)),l=Math.round(this.props._chart.scales.yScale(a)),u="left"===this.props.edgeAt?0-this.props.yAxisPad:this.props._width+this.props.yAxisPad;r=n.createElement(i,{type:this.props.type,className:"edge-coordinate",fill:o[0].stroke,show:!0,x1:p,y1:l,x2:u,y2:l,coordinate:this.props.displayFormat(a),edgeAt:u,orient:this.props.orient})}}else if(void 0===this.props.forOverlay&&(e="first"===this.props.itemType?this.props._chart.firstItem:"last"===this.props.itemType?this.props._chart.lastItem:this.props._currentItem,t=this.props._chart.accessors.yAccessor,void 0!==e&&null!==t)){var a=t(e),c=this.props._chart.accessors.xAccessor(e),p=Math.round(this.props._chart.scales.xScale(c)),l=Math.round(this.props._chart.scales.yScale(a)),u="left"===this.props.edgeAt?0-this.props.yAxisPad:this.props._width+this.props.yAxisPad;r=n.createElement(i,{type:this.props.type,className:"edge-coordinate",show:!0,x1:p,y1:l,x2:u,y2:l,coordinate:this.props.displayFormat(a),edgeAt:u,orient:this.props.orient})}return r},render:function(){return this.renderEdge()}});e.exports=s},function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAABQCAQAAADykSIGAAAF1UlEQVR4Ae3df4zXdR3A8cfnvnccd7i7gwMiCCE6BzlwImVFpqgnykANZ66RawHTQJrnVizJymwENKUcJSBjsEqyJrIEQiHQSoutWBA4BYwLGCi/Tu7O7pDv/fj0R2vfHdx9J3ef7925vR9/v/577j6/vrfXO9IjgrhYkb4K0OR9jc4BEMUATHe7z/mEAkF3anLI3/3e85rbRvm4VSr1pOAV9zmUiXK17cq96+de8IbzChQrkdLihLQgSfmGSmlwRiug0Bh3qjJAjZvsJYoZ5W/KbfZVZ2XkGaifFm9rFiTnI4o1OOVCJdaZ5owJjkYx291sszvELjRYP41OCpJSZIgWx7S6WMomU2x1WxTfbqMaFWpdLM/HpJzUKEhGuRJn1WrfcLuVmxrFq822yCPaV6a/ejWCZAzTx3Fp7etjoflWRPEbPunTdnU4NkzacUEyRoocFmtf5FYv2hfFaQWKvN/h2Eixw4LuiJKnwgFNURwjL8vYCK2OCLrn8jVMNf+LUijdCy5f4UZfpn8mSn+14Ubfk4/EmWfdTJQRmbHwSNwjL4+Zt8IT/48yKuvYSUEuP7O0/X7SlPlLyTbWLElBH0OktKjXqIkLvjTGmRt9trGkBfkGKtLWOWc0k4kSZR0LcqFYscJ2fuTKRMk6FnSnTBQfWiHKEP9W7y+e95y0D6LUvab5jGbDnZcDIcr9nga8bYkVmmVzmW97UAngVtvkQIiy2mwZ/1Sl3kRjXWGoQVJa1Kl1yn67xX5sqIzvWSgHQpQtpuisp82RAyHKq67TWevcKwdClM2m6qxlquRAiLLIAp31davkQIgy0xqd9QdTNUlYiDLCHmU67wnzBQlHedFtuqLFp+wRJBjls3bqqvW+JEgwymqzdVXaEGcFiUU5ariuu9NGQUJRStVKwncsFiQUpcJbkrDUtwQJRRltvyQsN0+QUJThjkrCEgsECUXp65wkPOqHgoSi8I4huu4BKwSJRdlqsq4Lvz8mGuVhi3XdYKcFlxylwGilWuRpViCtSKMydQbbKE/XHDRDpEytYucUapKvRUqdg9KCDqOMV60OQLFhykGeRW7QNcs9q1mk1buOawRQapTdgg6jEBmjVEqMBu84BRjpdf103ikV3gMMMlQpYk1qHRDLKvylcFCD9txlvUjnxKZ7QXv6GS22W9DJ/5D8srX6unSt5lkpyEkUxllpoktz2GwvCxKNUmCsY04DmOwbJiv0Qeyy0q+kBQlHqfQSfukh9QBK3WCiq1UYKaWtFsdUe9NOrzksyEkUbvQbg+11vTptPWSpPG21+qYnBTmOwpV2Krno/xwne0nkYrEptgpyHIW5lqPKMhk73KR9fzJJkPMo+Q65HL/wU3vFRrvHo1IAjuJyAK1KNAhyHIUqTwLS6ANIe8YsrJYyE8+6RwpjHBDkPEqBLSpd6BXbLMYKzMUCU12Hq+wT5DwKhR43RwEyfm3fBVHGmdF9UUIU+KhbXKHASc2W9Y4oIUrGOHtDlA9/lCBECVGe0uLBEKWno3zBn7HO6xZjCR7GAmN9Bdd7VdCx9o8gyETJMpTNGjMxX6nvYoG0pVio1hNYa5b2BfnKFWurUY1mmShZhjpymcfNwT9MskElrhLbhx2m+6NrsNJ8/3Epwsav813Z9zXej5ywzQaft12e5ebhKQ9odYvXzHCjQR6x26UIu/GOJLMZ73cq/MwqMSL3qfKWL+qcsEWyuvftkAz7Vo/0vm2rYTPx2d63lzjs8D7f+zZ4hyMIWgkHEPSuKCXqNETxm8YYb084gKBXXL4m2GV/FK/1NY/5Qa+4fIUb/WO+b00U3+05p1Wo7/EbfXgkLvMv5e6K4iJbTLLB3eIefSQOL4+RjabZoTKKucY25dab5b0ee3kMn1lKPWOaGteqjmLyTfJbA5zxE5sc0BQOIOjWD5L9XOkOcw1Qo9Ieohj6mGCRSYKe9LL7M8fUQr6BprjZtUZJCbrTOdX+apNNkIkiHEDQm/wXb4bZSIeJkMcAAAAASUVORK5CYII="},function(e,t,r){"use strict";var n=r(56),o={shouldComponentUpdate:function(e,t){var r="function"==typeof this.extraShouldComponentUpdate?this.extraShouldComponentUpdate:function(e,t,r){return r},o=!n(this.props,e)||!n(this.state,t);return r(e,t,o)}};e.exports=o},function(e,t,r){"use strict";function n(e){return e instanceof Date?e.getTime():e}var o=r(2),i=(r(33),r(34),r(47)),s=r(55),a={doesContainChart:function(){var e=Array.isArray(this.props.children)?this.props.children:[this.props.children];return e.filter(function(e){return/Chart$/.test(e.props.namespace)}).length>0},componentWillMount:function(){if(this.doesContainChart()){console.log("EventCaptureMixin.componentWillMount",this.state);var e,t=new s({mouseXY:[0,0],mouseOver:{value:!1},inFocus:{value:!0}}),r=new s({zoom:0}),n=new s({charts:[],updateMode:{immediate:!0}});this.isDataDransform&&this.isDataDransform()&&(e=this.transformData(this.props)),o.Children.forEach(this.props.children,function(t){if("ReStock.Chart"===t.props.namespace){var r=this.createChartData(t.props.id),o=n.get().charts.push(r);this.getChartDataFor(t,o[o.length-1],this.props.data,this.props.data,e)}}.bind(this));var i=new s({currentItems:[],viewPortXRange:[],viewPortXDelta:30}),a={eventStore:t,chartStore:n,currentItemStore:i,zoomEventStore:r,fullData:this.props.data,data:this.props.data,passThroughProps:e};this.setState(a)}},getEventStore:function(){return this.state.eventStore},updateEventStore:function(e,t){this.unListen();var r={eventStore:e,chartStore:this.state.chartStore,currentItemStore:this.state.currentItemStore,zoomEventStore:t||this.state.zoomEventStore};this.setState(r,function(){this.listen(r)}.bind(this))},componentWillUnmount:function(){this.doesContainChart()&&this.unListen()},unListen:function(){void 0!==this.state.eventStore&&this.state.eventStore.off("update",this.eventListener),void 0!==this.state.chartStore&&this.state.chartStore.off("update",this.dataListener),void 0!==this.state.zoomEventStore&&this.state.zoomEventStore.off("update",this.zoomEventListener)},eventListener:function(){this.state.chartStore.get().updateMode.immediate&&(this.state.chartStore.get().charts.forEach(function(e){this.updateCurrentItemForChart(e)}.bind(this)),this.state.eventStore.get().pan?requestAnimationFrame(function(){var e=this.state.currentItemStore.get().mainChart,t=this.getChartForId(e),r=t.scales.xScale.domain(),o=r[1]-r[0],i=this.state.fullData[this.state.fullData.length-1],s=Math.round(n(r[0])-this.state.eventStore.get().dx/t.width*o);s=Math.max(Math.floor(-o/2),s),s=Math.min(n(t.accessors.xAccessor(i))+Math.ceil(o/2),s+o)-o,console.log("pan in progress...",this.state.eventStore.get().dx,r[0],o,new Date(s));var a=s,c=s+o;r[0]instanceof Date&&(a=new Date(a),c=new Date(c)),this.state.currentItemStore.get().viewPortXRange.set([a,c]);var p=this.calculateViewableData();this.updateChartDataFor(t,p);var l=this.updateXScaleDomain(t.scales.xScale,[a,c]);t.scales.set({xScale:l}),this.setState({data:p})}.bind(this)):this.forceUpdate())},show:function(e,t,r){for(var n=this.state.fullData,o=n.filter(function(n){return r.accessors.xAccessor(n)>=e&&r.accessors.xAccessor(n)<=t}),i=r.accessors.xAccessor(o[0]),s=r.accessors.xAccessor(o[o.length-1]),a=i-1;a>=e;a--)o.unshift({index:a});for(var a=s+1;t>=a;a++)o.push({index:a});this.state.viewRange=[e,t],this.trigger(o,this.state.interval,this.state.overlays)},componentWillReceiveProps:function(){console.log("EventCaptureMixin.componentWillReceiveProps"),console.log("EventCaptureMixin.componentWillReceiveProps"),console.log("EventCaptureMixin.componentWillReceiveProps"),this.calculateViewableData()},calculateViewableData:function(){var e=this.state.currentItemStore.get().viewPortXRange;if(e.length>0){for(var t=this.state.currentItemStore.get().mainChart,r=this.getChartForId(t),n=this.getFullData(),o=[],i=0;i<n.length-1;i++){var s=n[i],a=n[i+1];if(r.accessors.xAccessor(s)>e[0]&&r.accessors.xAccessor(s)<e[1]&&o.push(s),o.length>0&&r.accessors.xAccessor(s)<e[1]&&r.accessors.xAccessor(a)>e[1]){o.push(a);break}0==o.length&&r.accessors.xAccessor(s)<e[0]&&r.accessors.xAccessor(a)>e[0]&&o.push(s)}return o.length<5?this.state.data:o}return this.getFullData()},zoomEventListener:function(){if(this.state.chartStore.get().updateMode.immediate){var e=this.state.zoomEventStore.get(),t=e.zoom,r=this.state.currentItemStore.get().mainChart,i=this.getChartForId(r);this.updateCurrentItemForChart(i);var s=this.getCurrentItemForChart(r).data,a=i.scales.xScale.domain(),c=i.accessors.xAccessor(s),p=c-a[0],l=a[1]-c,u=Math.pow(1+Math.abs(t)/2,t),h=n(c)-p*u,d=n(c)+l*u;c instanceof Date&&(h=new Date(h),d=new Date(d)),this.state.currentItemStore.get().viewPortXRange.set([h,d]),requestAnimationFrame(function(){{var e=this.calculateViewableData();this.state.passThroughProps}o.Children.forEach(this.props.children,function(t){if("ReStock.Chart"===t.props.namespace){var r=this.getChartForId(t.props.id);this.updateChartDataFor(r,e)}}.bind(this)),this.setState({data:e})}.bind(this))}},dataListener:function(){this.state.chartStore.get().updateMode.immediate&&requestAnimationFrame(function(){this.forceUpdate()}.bind(this))},componentDidMount:function(){this.doesContainChart()&&this.listen(this.state)},componentDidUpdate:function(){this.doesContainChart()&&(this.state.chartStore.get().updateMode.immediate||this.state.chartStore.get().updateMode.set({immediate:!0}))},listen:function(e){e.eventStore.on("update",this.eventListener),e.zoomEventStore.on("update",this.zoomEventListener)},updatePropsForEventCapture:function(e){return"ReStock.EventCapture"===e.props.namespace?((void 0===this.state.currentItemStore.get().mainChart||this.state.currentItemStore.get().mainChart!==e.props.mainChart)&&this.state.currentItemStore.get().set({mainChart:e.props.mainChart}),o.addons.cloneWithProps(e,{_eventStore:this.state.eventStore,_zoomEventStore:this.state.zoomEventStore})):e},updatePropsForCurrentCoordinate:function(e){if("ReStock.CurrentCoordinate"===e.props.namespace){var t=this.getChartForId(e.props.forChart),r=this.getCurrentItemForChart(e.props.forChart);return o.addons.cloneWithProps(e,{_show:this.state.eventStore.get().mouseOver.value,_chartData:t,_currentItem:r})}return e},updatePropsForMouseCoordinates:function(e){if("ReStock.MouseCoordinates"===e.props.namespace){var t=this.getChartForId(e.props.forChart),r=this.getCurrentItemForChart(e.props.forChart);return o.addons.cloneWithProps(e,{_show:this.state.eventStore.get().mouseOver.value,_mouseXY:this.state.eventStore.get().mouseXY,_chartData:t,_currentItem:r})}return e},updatePropsForTooltipContainer:function(e){return"ReStock.TooltipContainer"===e.props.namespace?o.addons.cloneWithProps(e,{_currentItems:this.state.currentItemStore.get().currentItems,_charts:this.state.chartStore.get().charts}):e},updatePropsForEdgeContainer:function(e){return"ReStock.EdgeContainer"===e.props.namespace?o.addons.cloneWithProps(e,{_currentItems:this.state.currentItemStore.get().currentItems,_charts:this.state.chartStore.get().charts}):e},updatePropsForChart:function(e){var t=e;if("ReStock.Chart"===e.props.namespace&&this.state.eventStore&&this.state.chartStore){var r=this.getChartForId(t.props.id);t=o.addons.cloneWithProps(t,{_updateMode:this.state.chartStore.get().updateMode,_chartData:r,data:this.getData(),fullData:this.getFullData()})}return t},getData:function(){return this.state.data},getFullData:function(){return this.state.fullData},getChartForId:function(e){var t=this.state.chartStore.get().charts,r=t.filter(function(t){return t.id===e});if(r.length>1){var n="multiple charts with the same id "+e+" found";throw console.warn(n),new Error(n)}return 0===r.length?(t=t.push(createChartData(e)),this.getChartForId(e)):r[0]},createChartData:function(e){var t={id:e,scales:{xScale:null,yScale:null},accessors:{xAccessor:null,yAccessor:null},lastItem:{},firstItem:{},overlays:[],overlayValues:[]};return t},getCurrentItemForChart:function(e){var t=this.state.currentItemStore.get().currentItems,r=t.filter(function(t){return t.id===e});if(r.length>1){var n="multiple filteredCurrentItems with the same id "+e+" found";throw console.warn(n),new Error(n)}if(0===r.length){var o={id:e,data:{}};return t=t.push(o),this.getCurrentItemForChart(e)}return r[0]},updateCurrentItemForChart:function(e){var t=this.getCurrentItemForChart(e.id),r=this.state.eventStore.get().mouseXY;null===e.scales.xScale&&console.warn("Verify if the the <Chart id=... > matches with the forChart=... This error likely because a Chart defined with id={%s} is not found",e.id);var n=e.scales.xScale.invert(r[0]),o=i.getClosestItem(this.getData(),n,e.accessors.xAccessor);t=t.data.reset(o)},_renderChildren:function(e){return this.doesContainChart()?o.Children.map(e,function(e){if("string"==typeof e.type)return e;var t=e;return t=this.updatePropsForEventCapture(e),t=this.updatePropsForMouseCoordinates(t),t=this.updatePropsForTooltipContainer(t),t=this.updatePropsForEdgeContainer(t),t=this.updatePropsForChart(t),t=this.updatePropsForCurrentCoordinate(t)
}.bind(this)):e}};e.exports=a},function(e,t,r){"use strict";function n(e,t){return e.map(function(e){return[e.id,e]}).filter(function(e){return e[0]===t}).map(function(e){return e[1]})[0]}var o=r(2),i=r(3),s=r(49),a=r(48),c=r(47),p=(r(32),c.overlayColors),l=c.pluck,u=c.keysAsArray,h={getChartDataFor:function(e,t,r,n,o){var i=e.props,s=this.defineScales(i,r),a=this.getXYAccessors(i,o),p=this.identifyOverlaysToAdd(i,t.overlays);t=t.set({overlays:p}),this.calculateOverlays(n,t.overlays);var h=this.updateOverlayFirstLast(r,t.overlays);t=t.set({overlayValues:h});var d=l(u(t.overlays),"yAccessor");t=t.set({width:i.width||this.props._width||this.getAvailableWidth(),height:i.height||this.props._height||this.getAvailableHeight()}),s=this.updateScales([a.xAccessor],[a.yAccessor].concat(d),s.xScale,s.yScale,r,t.width,t.height,!0,!0),t=t.set({accessors:a}),t=t.set({scales:s});var f=c.cloneMe(r[r.length-1]);t=t.set({lastItem:f});var m=c.cloneMe(r[0]);return t=t.set({firstItem:m})},defineScales:function(e,t,r,n){var o=e.xScale||r||e._xScale,s=e.yScale||n;if(void 0===o){var a=t[0];"object"==typeof a&&Object.keys(a).forEach(function(e){"[object Date]"===Object.prototype.toString.call(a[e])&&(o=i.time.scale())}),void 0===o&&(o=i.scale.linear())}return void 0===s&&(s=i.scale.linear()),{xScale:o,yScale:s}},getXYAccessors:function(e,t){var r={xAccessor:null,yAccessor:null};return o.Children.forEach(e.children,function(e){if(["ReStock.DataSeries"].indexOf(e.props.namespace)>-1&&e.props){var n=void 0!==t&&t._stockScale?t._indexAccessor:e.props.xAccessor;r.xAccessor=n,r.yAccessor=e.props.yAccessor}}),r},identifyOverlaysToAdd:function(e,t){var r=[];return o.Children.forEach(e.children,function(e){/DataSeries$/.test(e.props.namespace)&&o.Children.forEach(e.props.children,function(e){if(/OverlaySeries$/.test(e.props.namespace)){var o=n(t,e.props.id),i=a.getYAccessor(e.props);void 0===o&&(o={id:e.props.id,yAccessor:i,options:e.props.options,type:e.props.type,tooltipLabel:a.getToolTipLabel(e.props),stroke:e.stroke||p(e.props.id)},r.push(o))}})}),r},calculateOverlays:function(e,t){t.filter(function(e){return void 0!==e.id}).forEach(function(t){a.calculateOverlay(e,t)})},updateOverlayFirstLast:function(e,t){console.log("updateOverlayFirstLast");var r=[];return t.forEach(function(t){r.push({id:t.id,first:a.firstDefined(e,t.yAccessor),last:a.lastDefined(e,t.yAccessor)})}),r},updateScales:function(e,t,r,n,o,a,c,p,l){console.log("updateScales");var u=s.flattenData(o,e,t);if(p&&(r.range([0,a]),r=this.updateXScaleDomain(r,i.extent(u.xValues),o)),l){n.range([c,0]);var h=i.extent(u.yValues);n.domain(h)}return{xScale:r,yScale:n.copy()}},updateXScaleDomain:function(e,t,r){return e.isPolyLinear&&e.isPolyLinear()?e.data(r):e.domain(t),e.copy()},updateyScaleDomain:function(){},updateChartDataFor:function(e,t){var r=e.scales,n=e.accessors,o=this.updateOverlayFirstLast(t,e.overlays);e=e.set({overlayValues:o});var i=l(u(e.overlays),"yAccessor");r=this.updateScales([n.xAccessor],[n.yAccessor].concat(i),r.xScale,r.yScale,t,e.width,e.height,!0,!0),e=e.set({scales:r});var s=c.cloneMe(t[t.length-1]);e=e.set({lastItem:s});var a=c.cloneMe(t[0]);return e=e.set({firstItem:a})}};e.exports=h},function(e,t,r){"use strict";function n(){}var o=r(3),i=o.scale.category10();n.overlayColors=i,n.cloneMe=function(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=n.cloneMe(e[r]));return t},n.displayDateFormat=o.time.format("%Y-%m-%d"),n.displayNumberFormat=function(e){return n.numberWithCommas(e.toFixed(2))},n.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},n.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n.mousePosition=function(e){var t=e.currentTarget,r=t.getBoundingClientRect(),n=e.clientX-r.left-t.clientLeft,o=e.clientY-r.top-t.clientTop,i=[Math.round(n),Math.round(o)];return i},n.getValue=function(e){return e instanceof Date?e.getTime():e},n.getClosestItem=function(e,t,r){for(var o=0,i=e.length-1;i-o>1;){var s=Math.round((o+i)/2);r(e[s])<=t?o=s:i=s}r(e[o])===t&&(i=o);var a=Math.abs(r(e[o])-t)<Math.abs(r(e[i])-t)?e[o]:e[i];return n.cloneMe(a)},n.pluck=function(e,t){return e.map(function(e){return e[t]})},n.keysAsArray=function(e){return Object.keys(e).filter(function(t){return null!==e[t]}).map(function(t){return e[t]})},n.sum=function(e){return e.reduce(function(e,t){return e+t})},e.exports=n},function(e,t,r){"use strict";var n=r(47),o=r(53),i={getToolTipLabel:function(e){if("sma"===e.type||"ema"===e.type){var t=e.type.toUpperCase()+"("+e.options.period+")";return t}return"N/A"},getYAccessor:function(e){if("sma"===e.type||"ema"===e.type){var t=e.type+e.options.period;return function(e){return e[t]}}return!1},calculateOverlay:function(e,t){return"sma"===t.type?e=o.calculateSMA(e,t.options.period):"ema"===t.type&&(e=o.calculateEMA(e,t.options.period)),e},firstDefined:function(e,t){for(var r,o=0;o<e.length;o++)if(void 0!==t(e[o])){r=e[o];break}return n.cloneMe(r)},lastDefined:function(e,t){for(var r,o=e.length-1;o>=0;o--)if(void 0!==t(e[o])){r=e[o];break}return n.cloneMe(r)}};e.exports=i},function(e){"use strict";function t(e,t){"object"==typeof t&&Object.keys(t).length>0?Object.keys(t).forEach(function(r){isNaN(t[r])||e.push(t[r])}):isNaN(t)||e.push(t)}var r={flattenData:function(e,r,n){var o=[],i=[];return e.forEach(function(e){r.forEach(function(r){var n=r(e);void 0!==n&&t(o,n)}),n.forEach(function(r){var n=r(e);void 0!==n&&t(i,n)})}),{xValues:o,yValues:i}}};e.exports=r},function(e,t,r){"use strict";var n=r(2),o=n.createClass({displayName:"EdgeCoordinate",propTypes:{type:n.PropTypes.oneOf(["vertical","horizontal"]).isRequired,coordinate:n.PropTypes.any.isRequired,x1:n.PropTypes.number.isRequired,y1:n.PropTypes.number.isRequired,x2:n.PropTypes.number.isRequired,y2:n.PropTypes.number.isRequired,orient:n.PropTypes.oneOf(["bottom","top","left","right"]),rectWidth:n.PropTypes.number},getDefaultProps:function(){return{orient:"left"}},render:function(){if(!this.props.show)return null;var e,t,r,o,i=this.props.coordinate,s=this.props.rectWidth?this.props.rectWidth:"horizontal"===this.props.type?60:100,a=20;"horizontal"===this.props.type?(e="right"===this.props.orient?this.props.edgeAt+1:this.props.edgeAt-s-1,t=this.props.y1-a/2,r="right"===this.props.orient?this.props.edgeAt+s/2:this.props.edgeAt-s/2,o=this.props.y1):(e=this.props.x1-s/2,t="bottom"===this.props.orient?this.props.edgeAt:this.props.edgeAt-a,r=this.props.x1,o="bottom"===this.props.orient?this.props.edgeAt+a/2:this.props.edgeAt-a/2);var c=null,p=null;return void 0!==i&&(c=n.createElement("rect",{key:1,className:"textbg",x:e,y:t,height:a,width:s,fill:this.props.fill}),p=n.createElement("text",{key:2,x:r,y:o,style:{textAnchor:"middle"},dy:".32em"},i)),n.createElement("g",{className:(this.props.show?"show ":"hide ")+this.props.className},n.createElement("line",{className:"cross-hair",x1:this.props.x1,y1:this.props.y1,x2:this.props.x2,y2:this.props.y2}),c,p)}});e.exports=o},function(e,t,r){"use strict";var n=r(54),o={isDataDransform:function(){return!0},transformData:function(e){var t=n.getTransformerFor(e.transformType),r=t(e.data,e.options);return r}};e.exports=o},function(e,t,r){"use strict";function n(e,t,r){function i(e){for(var t=0,r=l[t];!r[1](e);)r=l[++t];var n=r[0](e.date);return n}function s(e){return r(e)}var a=[{step:864e5,f:function(e){return void 0!==e.date&&!0}},{step:1728e5,f:function(e,t){return void 0!==e.date&&t%2==0}},{step:838e6,f:function(e,t,r){if(e.startOfMonth)return!0;var n=[];t-2>=0&&n.push(r[t-2]),t-1>=0&&n.push(r[t-1]),n.push(r[t]),t+1<=r.length-1&&n.push(r[t+1]),t+2<=r.length-1&&n.push(r[t+2]);var o=n.map(function(e){return e.startOfMonth}).reduce(function(e,t){return e||t});return o?!1:e.startOfWeek}},{step:3525e6,f:function(e){return e.startOfMonth}},{step:7776e6,f:function(e){return e.startOfQuarter}},{step:31536e6,f:function(e){return e.startOfYear}},{step:91536e15,f:function(e){return void 0!==e.date&&e.startOfYear&&e.date.getFullYear()%2==0}}],c=o.bisector(function(e){return e.step}).left,p=o.bisector(function(e){return t(e)}).left,l=[[o.time.format("%Y"),function(e){return e.startOfYear}],[o.time.format("%b %Y"),function(e){return e.startOfQuarter}],[o.time.format("%b"),function(e){return e.startOfMonth}],[o.time.format("%d %b"),function(e){return e.startOfWeek}],[o.time.format("%a %d "),function(){return!0}]];return s.isPolyLinear=function(){return!0},s.invert=function(e){return r.invert(e)},s.data=function(r){return arguments.length?(e=r,this.domain([t(e[0]),t(e[e.length-1])]),s):e},s.domain=function(e){if(!arguments.length)return r.domain();var t=[Math.floor(e[0]),Math.ceil(e[1])];return r.domain(t),s},s.range=function(e){return arguments.length?(r.range(e),s):r.range()},s.rangeRound=function(e){return r.range(e)},s.clamp=function(e){return arguments.length?(r.clamp(e),s):r.clamp()},s.interpolate=function(e){return arguments.length?(r.interpolate(e),s):r.interpolate()},s.ticks=function(r){var n,o,i=0;e.forEach(function(e){void 0!==e.date&&(void 0===n&&(n=e),o=e,i++)}),r=i/e.length*r;var s=o.date.getTime()-n.date.getTime(),p=s/r,l=e.filter(a[c(a,p)].f).map(function(e){return t(e)});return l},s.tickFormat=function(){return function(t){var r=p(e,t);return i(e[r])}},s.nice=function(e){return r.nice(e),s},s.copy=function(){return n(e,t,r.copy())},s}var o=r(3),i=function(e){return n([0,1],e,o.scale.linear())};e.exports=i},function(e,t,r){"use strict";function n(){}var o=r(47),i=o.pluck,s=o.sum;n.calculateSMA=function(e,t){var r=e.length-1,n="sma"+t;return e.map(function(r,n){return e.slice(n-t,n)}).filter(function(e){return e.length>0}).map(function(e){return i(e,"close")}).map(function(e){return s(e)}).map(function(e){return e/t}).reverse().forEach(function(t,o){e[r-o][n]=t}),e},n.calculateEMA=function(){return console.log("calculating EMA"),!1},e.exports=n},function(e,t,r){"use strict";var n=r(57),o={getTransformerFor:function(e){return"none"===e?function(e){return e}:"stockscale"===e?n:!1},filter:function(e,t,r,n){var o=e.filter(function(e){var o=t(e).getTime()>r.getTime()&&t(e).getTime()<n.getTime();return o});return o}};e.exports=o},function(e,t,r){var n=r(58);e.exports=n},function(e){"use strict";function t(e,t){if(e===t)return!0;var r;for(r in e)if(e.hasOwnProperty(r)&&(!t.hasOwnProperty(r)||e[r]!==t[r]))return!1;for(r in t)if(t.hasOwnProperty(r)&&!e.hasOwnProperty(r))return!1;return!0}e.exports=t},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=s);var r,n=t.dateAccesor,o=t.indexMutator,a=e.map(function(e,t){var i=e;o(i,t),i.startOfWeek=!1,i.startOfMonth=!1,i.startOfQuarter=!1,i.startOfYear=!1;var s=n(i);return void 0!==r&&(i.startOfWeek=s.getDay()<r.getDay(),i.startOfMonth=s.getMonth()!=r.getMonth(),i.startOfQuarter=i.startOfMonth&&s.getMonth()%3===0,i.startOfYear=s.getYear()!=r.getYear()),r=s,i});return{data:a,_dateAccesor:n,_indexAccessor:t.indexAccessor,_stockScale:!0,_xScale:i(t.indexAccessor)}}var o=r(3),i=(o.time.format("%Y-%m-%d"),r(47),r(52)),s={dateAccesor:function(e){return e.date},indexAccessor:function(e){return e._idx},indexMutator:function(e,t){e._idx=t}};e.exports=n},function(e,t,r){"use strict";var n=r(59),o=r(60),i=(r(61),r(62)),s=function(e){var t,r=this,o=function(e,t,r){if("listener"==e)return i.createListener(t);var o=i.update(e,t,r);return o?o:n.error("Can't udpate. The node is not in the freezer.")};t=i.freeze(e,o);var s=t.getListener(),a=!1;s.on("immediate",function(e,o){e==t&&(t=o,a||(a=!0,n.nextTick(function(){a=!1,r.trigger("update",t)})))}),n.addNE(this,{get:function(){return t},set:function(e){var r=o("reset",t,e);r.__.listener.trigger("immediate",t,r)}}),n.addNE(this,{getData:this.get,setData:this.set}),this._events=[]};s.prototype=n.createNonEnumerable({},o),e.exports=s},function(e){"use strict";var t=new Function("return this")(),r={extend:function(e,t){for(var r in t)e[r]=t[r];return e},createNonEnumerable:function(e,t){var r={};for(var n in e)r[n]={value:e[n]};return Object.create(t||{},r)},error:function(e){var t=new Error(e);if(console)return console.error(t);throw t},each:function(e,t){var r,n,o;if(e&&e.constructor==Array)for(r=0,n=e.length;n>r;r++)t(e[r],r);else for(o=Object.keys(e),r=0,n=o.length;n>r;r++)t(e[o[r]],o[r])},addNE:function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t[r]})},nextTick:function(){function e(){for(;n=o.shift();)n();i=!1}function r(e){o.push(e),i||(i=!0,c())}var n,o=[],i=!1,s=!!t.postMessage,a="nexttick",c=function(){return s?function(){t.postMessage(a,"*")}:function(){setTimeout(function(){p()},0)}}(),p=function(){return s?function(r){r.source===t&&r.data===a&&(r.stopPropagation(),e())}:e}();return s&&t.addEventListener("message",p,!0),r.removeListener=function(){t.removeEventListener("message",p,!0)},r}()};e.exports=r},function(e,t,r){"use strict";var n=r(59),o={on:function(e,t,r){var n=this._events[e]||[];return n.push({callback:t,once:r}),this._events[e]=n,this},once:function(e,t){this.on(e,t,!0)},off:function(e,t){if("undefined"==typeof e)this._events={};else if("undefined"==typeof t)this._events[e]=[];else{var r,n=this._events[e]||[];for(r=n.length-1;r>=0;r--)n[r]===t&&n.splice(r,1)}return this},trigger:function(e){var t,r,n=[].slice.call(arguments,1),o=this._events[e]||[],i=[];for(t=0;t<o.length;t++)r=o[t],r.callback?r.callback.apply(null,n):r.once=!0,r.once&&i.push(t);for(t=i.length-1;t>=0;t--)o.splice(i[t],1);return this}},i=n.createNonEnumerable(o);e.exports=i},function(e,t,r){"use strict";var n=r(59),o=function(e){var t={};for(var r in e)t[r]={writable:!0,configurable:!0,enumerable:!1,value:e[r]};return t},i={set:function(e,t){var r=e;return"undefined"!=typeof t&&(r={},r[e]=t),this.__.notify("merge",this,r)},getListener:function(){return this.__.notify("listener",this)},toJS:function(){var e;return e=this.constructor==Array?new Array(this.length):{},n.each(this,function(t,r){e[r]=t&&t.__?t.toJS():t}),e}},s=n.extend({push:function(e){return this.append([e])},append:function(e){return e&&e.length?this.__.notify("splice",this,[this.length,0].concat(e)):this},pop:function(){return this.length?this.__.notify("splice",this,[this.length-1,1]):this},unshift:function(e){return this.prepend([e])},prepend:function(e){return e&&e.length?this.__.notify("splice",this,[0,0].concat(e)):this},shift:function(){return this.length?this.__.notify("splice",this,[0,1]):this},splice:function(){return this.__.notify("splice",this,arguments)}},i),a=Object.create(Array.prototype,o(s)),c={Hash:Object.create(Object.prototype,o(n.extend({remove:function(e){var t=[],r=e;e.constructor!=Array&&(r=[e]);for(var n=0,o=r.length;o>n;n++)this.hasOwnProperty(r[n])&&t.push(r[n]);return t.length?this.__.notify("remove",this,t):this},reset:function(e){return this.__.notify("replaceself",this,e)}},i))),List:a,arrayMethods:s};e.exports=c},function(e,t,r){"use strict";var n=r(59),o=r(61),i=r(60),s={freeze:function(e,t){if(e&&e.__)return e;var r,i,s=this;return r=e.constructor==Array?this.createArray(e.length):Object.create(o.Hash),n.addNE(r,{__:{listener:!1,parents:[],notify:t,dirty:!1}}),n.each(e,function(e,n){i=e&&e.constructor,(i==Array||i==Object)&&(e=s.freeze(e,t)),e&&e.__&&s.addParent(e,r),r[n]=e}),Object.freeze(r),r},update:function(e,t,r){return this[e]?this[e](t,r):n.error("Unknown update type: "+e)},reset:function(e,t){var r,o=this;return t&&t.__?(r=t,r.__.listener=t.__.listener,r.__.parents=[],this.fixChildren(r,e),n.each(r,function(t){t&&t.__&&(o.removeParent(e),o.addParent(t,r))})):r=this.freeze(e,e.__.notify),r},merge:function(e,t){var r,o,i,s,a=this,c=this.copyMeta(e),p=e.__.notify;n.each(e,function(n,i){return s=n&&n.__,s&&a.removeParent(n,e),(r=t[i])?(o=r&&r.constructor,(o==Array||o==Object)&&(r=a.freeze(r,p)),r&&r.__&&a.addParent(r,c),delete t[i],void(c[i]=r)):(s&&a.addParent(n,c),c[i]=n)});for(i in t)r=t[i],o=r&&r.constructor,(o==Array||o==Object)&&(r=a.freeze(r,p)),r&&r.__&&a.addParent(r,c),c[i]=r;return Object.freeze(c),this.refreshParents(e,c),c},replaceself:function(e,t){var r,n,o,i=this,s=this.copyMeta(e),a=e.__.notify;for(o in t)r=t[o],n=r&&r.constructor,(n==Array||n==Object)&&(r=i.freeze(r,a)),r&&r.__&&i.addParent(r,s),s[o]=r;return Object.freeze(s),this.refreshParents(e,s),s},remove:function(e,t){var r,o=this,i=this.copyMeta(e);return n.each(e,function(n,s){r=n&&n.__,r&&o.removeParent(n,e),-1==t.indexOf(s)&&(r&&o.addParent(n,i),i[s]=n)}),Object.freeze(i),this.refreshParents(e,i),i},splice:function(e,t){var r,o,i=this,s=this.copyMeta(e),a=t[0],c=a+t[1],p=e.__.notify;if(n.each(e,function(t,r){t&&t.__&&(i.removeParent(t,e),(a>r||r>=c)&&i.addParent(t,s)),s[r]=t}),t.length>1)for(var l=t.length-1;l>=2;l--)o=t[l],r=o&&o.constructor,(r==Array||r==Object)&&(o=this.freeze(o,p)),o&&o.__&&this.addParent(o,s),t[l]=o;return Array.prototype.splice.apply(s,t),Object.freeze(s),this.refreshParents(e,s),s},refresh:function(e,t,r,o){var i,s=this,a=this.copyMeta(e);return n.each(e,function(n,o){n==t&&(n=r),n&&(i=n.__)&&(i.dirty&&(n=s.refresh(n,i.dirty[0],i.dirty[1],!0)),s.removeParent(n,e),s.addParent(n,a)),a[o]=n}),Object.freeze(a),e.__.dirty=!1,o?a:void this.refreshParents(e,a)},fixChildren:function(e,t){var r=this;n.each(e,function(n){if(n&&n.__){if(-1!=n.__.parents.indexOf(e))return r.fixChildren(n);if(1==n.__.parents.length)return n.__.parents=[e];t&&r.removeParent(n,t),r.addParent(e)}})},clean:function(e){return this.refresh(e,__.dirty[0],__.dirty[1],!0)},copyMeta:function(e){var t;t=e.constructor==Array?this.createArray(e.length):Object.create(o.Hash);var r=e.__;return n.addNE(t,{__:{notify:r.notify,listener:r.listener,parents:r.parents.slice(0),dirty:!1}}),t},refreshParents:function(e,t){var r,n=e.__;if(n.listener&&this.trigger(t,"update",t),n.parents.length)for(r=n.parents.length-1;r>=0;r--)0==r?this.refresh(n.parents[r],e,t,!1):this.markDirty(n.parents[r],[e,t]);else n.listener&&n.listener.trigger("immediate",e,t)},markDirty:function(e,t){var r,n=e.__;for(n.dirty=t,r=n.parents.length-1;r>=0;r--)this.markDirty(n.parents[r],t)},removeParent:function(e,t){var r=e.__.parents,n=r.indexOf(t);-1!=n&&r.splice(n,1)},addParent:function(e,t){var r=e.__.parents,n=r.indexOf(t);-1==n&&(r[r.length]=t)},trigger:function(e,t,r){var o=e.__.listener,i=o.ticking;o.ticking=r,i||n.nextTick(function(){var e=o.ticking;o.ticking=!1,o.trigger(t,e)})},createListener:function(e){var t=e.__.listener;return t||(t=Object.create(i,{_events:{value:{},writable:!0}}),e.__.listener=t),t},createArray:function(){return[].__proto__?function(e){var t=new Array(e);return t.__proto__=o.List,t}:function(e){var t=new Array(e),r=o.arrayMethods;for(var n in r)t[n]=r[n];return t}}()};e.exports=s}]);